<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="TemplateMo">
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900&display=swap" rel="stylesheet">

    <title>Samsara CSV File Checker</title>
<!--

Lava Landing Page

https://templatemo.com/tm-540-lava-landing-page

-->

    <!-- Additional CSS Files -->
    <link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css">

    <link rel="stylesheet" type="text/css" href="assets/css/font-awesome.css">

    <link rel="stylesheet" href="assets/css/templatemo-lava.css">

    <link rel="stylesheet" href="assets/css/owl-carousel.css">

</head>

<body>

    <!-- ***** Preloader Start ***** -->
    <div id="preloader">
        <div class="jumper">
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>
    <!-- ***** Preloader End ***** -->


    <!-- ***** Header Area Start ***** -->
    <header class="header-area header-sticky">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <nav class="main-nav">
                        <!-- ***** Logo Start ***** -->
                        <a href="https://samsara.com/" class="logo">
                            <img src="../static/samsara_horizontal_logo_navy.png" alt="samsara"  height="50">
                        </a>
                        <!-- ***** Logo End ***** -->
                        <!-- ***** Menu Start ***** -->
                        <ul class="nav">
                            <li class="scroll-to-section"><a href="#welcome" class="menu-item">Home</a></li>
                            <li class="scroll-to-section"><a href="#about" class="menu-item">Results</a></li>

                            
                            </li>
                            <!--<li class="submenu">
                                <a href="javascript:;">Drop Down</a>
                                <ul>
                                    <li><a href="" class="menu-item">About Us</a></li>
                                    <li><a href="" class="menu-item">Features</a></li>
                                    <li><a href="" class="menu-item">FAQ's</a></li>
                                    <li><a href="" class="menu-item">Blog</a></li>
                                </ul>
                            </li>-->
                            <li class="scroll-to-section"><a href="#contact-us" class="menu-item">Feedback</a></li>
                        </ul>
                        <a class='menu-trigger'>
                            <span>Menu</span>
                        </a>
                        <!-- ***** Menu End ***** -->
                    </nav>
                </div>
            </div>
        </div>
    </header>
    <!-- ***** Header Area End ***** -->


    <!-- ***** Welcome Area Start ***** -->
    <div class="welcome-area" id="welcome">

        <!-- ***** Header Text Start ***** -->
        <div class="header-text">
            <div class="container">
                <div class="row">
                    <div class="left-text col-lg-6 col-md-12 col-sm-12 col-xs-12"
                        data-scroll-reveal="enter left move 30px over 0.6s after 0.4s">
                        <h1>Samsara <em>CSV File</em> Checker</h1>
                        <p>1. Please paste the content of your CSV file below <br> 2. Then click the <b>Render CSV</b> button</p> 
                        
                        <a href="#about" class="main-button-slider" id="button">Render CSV</a>
                    </div>
                    <!--</div>
                    <div class="row">-->
                    <div class="right-text col-lg-6 col-md-12 col-sm-12 col-xs-12" style="top: 300px;"
                        data-scroll-reveal="enter left move 30px over 0.6s after 0.4s">
                        <textarea class="form-control" rows="14" name="user_csv" id="user_csv" style=" border-style: solid;
                        border-width: 5px; border-color: #fba70b; ">Id,Username,Password,Name,qwerty,Notes,Tags,Attributes,Peer Group,Vehicle Selection Tag,Start of Day Workflow,Trailer Selection Tag,License Number,License State,ELD Exempt,ELD Exempt Reason,Adverse Driving Exemption,Defer Off-Duty Exemption,Adverse Driving (Canada) Exemption,ELD Personal Conveyance (PC),ELD Yard Moves (YM),Waiting Time (WT),ELD Day Start Hour,Carrier Name Override,Main Office Address Override,Carrier US DOT Number Override,Home Terminal Name,Home Terminal Address,Driver ID,Home Terminal Timezone,,Driver Ruleset Cycle,Driver Ruleset US State to Override,Driver Ruleset Restart,Driver Ruleset Restbreak,Peer Group Tag,Vehicle Selection Tag,Trailer Selection Tag,ID Card Code,Start of Day Workflow,End of Day Workflow,Tachograph Card,Driver Status,Tags,Attributes,US Short Haul Exemption,Driver ID Token
                            2,SnowR,123,SnowR,,,,,,,,,,,,,,,,,,,,,,,,,,,,dsafdsf,,,,,,,,,,,,,,,
                            ,steve,,Steve,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
                            ,nam,,Steve,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
                            3,carl,12312,Eric Hooper,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,</textarea>
                    </div>
            </div>
        </div>
        <!-- ***** Header Text End ***** -->
    </div>
    <!-- ***** Welcome Area End ***** -->

    <!-- ***** Features Big Item Start ***** -->
    <section class="section" id="about">
        <div class="container">
            <div class="row">
                <div class="col-sm-12 col-xs-12"
                    data-scroll-reveal="enter left move 30px over 0.6s after 0.4s"> <!--col-md-6 -->
                    <div class="features-item">
                        <div class="features-icon">
                            <h2>01</h2>
                            
                            <h4>Table</h4>
                            <p>Your CSV data in a table format</p>
                             <!-- OUTPUT / TABLE-->
                            <div class="mt-4">
                                {% if request.method == 'POST'%}
                                <table id="proxies" class="display table nowrap responsive" style="width: 100%">
                                    <thead>
                                    <tr>
                                        {% for header in results[0].keys() %}
                                        <th>{{header}}</th>
                                        {% endfor %}
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for row in results %}
                                        <tr>
                                        {% for index in range(0, len(fieldnames)) %}
                                            <td>{{row[fieldnames[index]]}}</td>
                                        {% endfor %}
                                        </tr>
                                    {% endfor %}
                                    </tbody>
                                </table>
                                {% endif %}
                            </div>
                            
                        </div>
                    </div>
                </div>
                <br>
                <div class="col-sm-12 col-xs-12"
                    data-scroll-reveal="enter bottom move 30px over 0.6s after 0.4s">
                    <div class="features-item">
                        <div class="features-icon">
                            <h2>02</h2>
                            
                            <h4>Results</h4>
                            <p>Here are the errors found in the CSV file you provided</p>

                            <!-- Test VAR: -->
                            <div class="mt-4">
                                
                    
                                <!--<h5>hidden:</h5>-->
                                <textarea class="form-control" rows="10" name="results"  id="app_array" hidden>{{df2}}</textarea> <!--hidden-->
                                <!--<h5>result:</h5>-->
                                <textarea class="form-control" rows="10" name="my results after Javascript" id="result_text" HIDDEN ></textarea>
                            
                    
                    
                            <!-- results: -->
                            
                            <table id="table" class="display table nowrap responsive" style="width: 100%">
                                <thead>
                                <tr>
                                
                                <TH>#</TH>
                                <TH>Error Explanation</TH>
                                <TH>Link</TH>
                                
                                </tr>
                            </thead>
                            <tbody></tbody>
                            </table>
                            </div>
                            
                        </div>
                    </div>
                </div>
               
            </div>
        </div>
    </section>
    <!-- ***** Features Big Item End ***** -->

    <div class="left-image-decor"></div>

    <!-- ***** Features Big Item Start ***** -->
    


    <!-- ***** Footer Start ***** -->
    <footer id="contact-us">
        <div class="container">
            <div class="footer-content">
                <div class="row">
                    <!-- ***** Contact Form Start ***** -->
                    <div class="col-lg-6 col-md-12 col-sm-12">
                        <div class="contact-form">
                            <form id="contact" action="" method="post">
                                <div class="row">
                                    <div class="col-md-6 col-sm-12">
                                        <fieldset>
                                            <input name="name" type="text" id="name" placeholder="Full Name" required=""
                                                style="background-color: rgba(250,250,250,0.3);">
                                        </fieldset>
                                    </div>
                                    <div class="col-md-6 col-sm-12">
                                        <fieldset>
                                            <input name="email" type="text" id="email" placeholder="E-Mail Address"
                                                required="" style="background-color: rgba(250,250,250,0.3);">
                                        </fieldset>
                                    </div>
                                    <div class="col-lg-12">
                                        <fieldset>
                                            <textarea name="message" rows="6" id="message" placeholder="Your Message"
                                                required="" style="background-color: rgba(250,250,250,0.3);"></textarea>
                                        </fieldset>
                                    </div>
                                    <div class="col-lg-12">
                                        <fieldset>
                                            <button type="submit" id="form-submit" class="main-button">Send Feedback</button>
                                        </fieldset>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <!-- ***** Contact Form End ***** -->
                    <div class="right-content col-lg-6 col-md-12 col-sm-12">
                        <h2>More About <em>CSV Checker</em></h2>
                        <p>CSV checker was designed to help Samsara users finding issues with their CSV file when they run into errors trying to upload it do Samsara's dashboard. <br>
                           Please provide any feedback you may have to improve this tool. <br>
                           Thank you
                        </p>
                        
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <div class="sub-footer">
                        <p>Copyright &copy; 2022 CSV Checker
                        | Created by Vojta Ripa & Scott Roan</a>
                        | Designed by <a rel="nofollow" href="https://templatemo.com">TemplateMo</a></p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="assets/js/jquery-2.1.0.min.js"></script>

    <!-- Bootstrap -->
    <script src="assets/js/popper.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>

    <!-- Plugins -->
    <script src="assets/js/owl-carousel.js"></script>
    <script src="assets/js/scrollreveal.min.js"></script>
    <script src="assets/js/waypoints.min.js"></script>
    <script src="assets/js/jquery.counterup.min.js"></script>
    <script src="assets/js/imgfix.min.js"></script>

    <!-- Global Init -->
    <script src="assets/js/custom.js"></script>

    <script type="text/javascript">
        //Makes datatable in step 2
        $('#proxies').DataTable();
    
        
    
        var myinputarr = [];
        //Value of the hidden textbox
        function PrintArrayFromAppPY()
        {
          
          var app_array_value = document.getElementById('app_array').value;
    
          var type = typeof(app_array_value);
    
          //works, replaces all ' with " to make array
          app_array_value = app_array_value.replaceAll("\'", "\"");
          //app_array_value = "\'" + app_array_value + "\'";
          var myJsonArray = JSON.parse(app_array_value);
          var type2 = typeof(app_array_value);
    
          document.getElementById('result_text').value =myJsonArray; // "TYPE OF: "+ type + "\n " +"TYPE OF 2: "+ type2 + "\n " + myJsonArray + "\n " + app_array_value
    
          //NOW PRINTING AS TABLE:
          i=0;
          for (var key in myJsonArray)
          {
            i++;
            // DIVIDE UP HTTP / LINK RESPONSES
            if(myJsonArray[key].includes("http") )
            {
              let index = myJsonArray[key].indexOf("http");
              var mylink = myJsonArray[key].substring(index);
              var firstPartofText = myJsonArray[key].substring(0, index);
              $('#table').append('<tr><td>'+ i+'</td><td>' + firstPartofText + '</td><td><a href="' + mylink + '">Manage Driver Accounts</td></tr>');
            }
            else{
              $('#table').append('<tr><td>'+ i+'</td><td>' + myJsonArray[key] + '</td></tr>');
            }
            
          }
        }
        
        //Converts array of results to more printable format WORKS!
        $('#button').click(PrintArrayFromAppPY());
    
      </script>

</body>
</html>